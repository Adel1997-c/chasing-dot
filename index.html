<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chasing Dot</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }
    h1 {
      font-size: 2rem;
    }
    #info {
      margin: 10px 0;
    }
    #grid {
      display: grid;
      grid-template-columns: repeat(3, 100px);
      grid-template-rows: repeat(3, 100px);
      gap: 10px;
    }
    .cell {
      width: 100px;
      height: 100px;
      background: #2b2b2b;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }
    .dot {
      width: 40px;
      height: 40px;
      background: #ff4668;
      border-radius: 50%;
    }
    #game-over {
      display: none;
      background: rgba(0,0,0,0.8);
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      margin-top: 20px;
    }
    #bottom-ad {
      position: fixed;
      bottom: 0;
      width: 100%;
      background: #000;
      text-align: center;
      padding: 10px;
      z-index: 99;
    }
    #pauseBtn {
  position: absolute;
  top: 10px;
  right: 10px;
  background: #444;
  color: white;
  border: none;
  padding: 8px 12px;
  border-radius: 4px;
  cursor: pointer;
}
  </style>
</head>
<body>
  <h1>üéØ Chasing Dot</h1>
  <div id="info">
    ‚è± Time: <span id="time">0</span>s | üíØ Score: <span id="score">0</span> | üèÖ High Score: <span id="highscore">0</span> | ‚ù§Ô∏è Lives: <span id="lives">3</span>
  </div>
  <button id="pauseBtn">‚è∏Ô∏è Pause</button>
  <div id="grid"></div>
  <div id="game-over">
    <h2>Game Over</h2>
    <p>‚è≥ Wait <span id="cooldown">300</span>s or</p>
    <button onclick="watchAd()">‚ñ∂Ô∏è Watch Ad to Revive</button>
    <br/><br/>
    <button onclick="startGame()">üîÑ Restart</button>
  </div>
  <div id="bottom-ad">
    <iframe src="https://www.profitableratecpm.com/drmjgriq2?key=f3d635f9a014d5973a07432322c6ea01" width="320" height="50" frameborder="0"></iframe>
  </div>

  <script>
    const grid = document.getElementById('grid');
    const timeEl = document.getElementById('time');
    const scoreEl = document.getElementById('score');
    const livesEl = document.getElementById('lives');
    const highscoreEl = document.getElementById('highscore');
    const gameOver = document.getElementById('game-over');
    const cooldownEl = document.getElementById('cooldown');
    const pauseBtn = document.getElementById('pauseBtn');

    let score = 0;
    let highscore = localStorage.getItem('highscore') || 0;
    let lives = 3;
    let time = 0;
    let interval, moveSpeed = 1000;
    let paused = false;
    let currentDot = 4; // center
    let cooldownTimer = null;

    highscoreEl.textContent = highscore;

    for (let i = 0; i < 9; i++) {
      const cell = document.createElement('div');
      cell.classList.add('cell');
      cell.dataset.index = i;
      cell.onclick = () => handleClick(i);
      grid.appendChild(cell);
    }

    function placeDot(index) {
      [...grid.children].forEach(c => c.innerHTML = '');
      const dot = document.createElement('div');
      dot.classList.add('dot');
      grid.children[index].appendChild(dot);
    }

    function handleClick(index) {
  if (paused || lives <= 0 || cooldownActive) return;
  const cell = grid.children[index];
  if (index === currentDot) {
    score++;
    scoreEl.textContent = score;
    if (score > highscore) {
      highscore = score;
      highscoreEl.textContent = highscore;
      localStorage.setItem('highscore', highscore);
    }
    if (score % 10 === 0) moveSpeed *= 0.9;
    moveDot();
  } else {
    const audio = new Audio('sounds/fail.mp3');
    audio.play();
    cell.style.background = '#c0392b';
    setTimeout(() => cell.style.background = '', 500);
    lives--;
    livesEl.textContent = lives;
    if (lives <= 0) triggerGameOver();
  }
}
        if (score % 10 === 0) moveSpeed *= 0.9;
        moveDot();
      } else {
        lives--;
        livesEl.textContent = lives;
        if (lives <= 0) triggerGameOver();
      }
    }

    function moveDot() {
      clearInterval(interval);
      interval = setInterval(() => {
        if (!paused) {
          let next;
          do {
            next = Math.floor(Math.random() * 9);
          } while (next === currentDot);
          currentDot = next;
          placeDot(currentDot);
        }
      }, moveSpeed);
    }

    function startGame() {
  if (cooldownActive) return;
  score = 0; lives = 3; time = 0; moveSpeed = 1000;
  scoreEl.textContent = 0;
  livesEl.textContent = 3;
  timeEl.textContent = 0;
  gameOver.style.display = 'none';
  currentDot = 4;
  placeDot(currentDot);
  clearInterval(interval);
  moveDot();
  timerStart();
}

    function timerStart() {
      clearInterval(cooldownTimer);
      setInterval(() => {
        if (!paused && lives > 0) timeEl.textContent = ++time;
      }, 1000);
    }

    let cooldownActive = false;

function triggerGameOver() {
  clearInterval(interval);
  gameOver.style.display = 'block';
  cooldownActive = true;
  let cooldown = 300;
  cooldownEl.textContent = cooldown;
  cooldownTimer = setInterval(() => {
    cooldown--;
    cooldownEl.textContent = cooldown;
    if (cooldown <= 0) {
      clearInterval(cooldownTimer);
      cooldownActive = false;
      lives = 3;
      livesEl.textContent = 3;
      gameOver.style.display = 'none';
      startGame();
    }
  }, 1000);
}
      }, 1000);
    }

    function watchAd() {
      window.open("https://www.profitableratecpm.com/drmjgriq2?key=f3d635f9a014d5973a07432322c6ea01", '_blank');
      lives = 1;
      livesEl.textContent = 1;
      gameOver.style.display = 'none';
      moveDot();
    }

    pauseBtn.onclick = () => paused = !paused;
    startGame();
  </script>
</body>
</html>
